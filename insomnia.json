{"_type":"export","__export_format":4,"__export_date":"2023-03-20T22:47:12.030Z","__export_source":"insomnia.desktop.app:v2023.1.0","resources":[{"_id":"req_4e84297c5df14f92a2fc70d87b0a29d3","parentId":"fld_b6068ef45f394f3f8f552ba033c9132b","modified":1679350505828,"created":1678983077985,"url":"{{baseurl}}/users","name":"Create a new user","description":"The POST /users route is unique for creating a new user. It is not necessary to send an authorization in the request header. The following properties must be passed in the body of the request:\n\n```json\n{\n\t\"username\": \"string\",  // min - 3 | max - 40\n\t\"nickname\": \"string\",  // min - 3 | max - 40\n\t\"password\": \"string\",  // min - 4 | max - 20\n}\n```\n\nWith success, an object will be returned containing a property informing its creation date, the user's unique id and the data passed in the creation, except the password, for security reasons.\n\n### Expected return: \n\n#### ‚úÖ Success - Create with valid data\n\nBody:\n```json\n{\n\t\"username\": \"John\",\n\t\"nickname\": \"JohnDoe\",\n\t\"password\": \"123456Abc\"\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-201%20%7C%20CREATED-brightgreen)\n```json\n{\n\t\"id\": 3,\n\t\"username\": \"John\",\n\t\"nickname\": \"JohnDoe\",\n\t\"createdAt\": \"2023-03-13T15:30:00\",\n}\n```\n\n----\n\n#### ‚ùå Error - Nickname already used\n\nBody:\n```json\n{\n\t\"username\": \"John\",\n\t\"nickname\": \"JohnDoe\",\n\t\"password\": \"123456Abc\"\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-409%20%7C%20CONFLICT-orange)\n```json\n{\n\t\"message\": \"Already exists nickname\"\n}\n```\n\n----\n\n#### ‚ùå Error - Entering invalid and wrong data\n\nBody:\n```json\n{\n\t\"username\": true,\n\t\"nickname\": [\"anything\"],\n\t\"password\": \"3\"\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-400%20%7C%20BAD%20REQUEST-yellow)\n```json\n{\n\t\"message\": {\n\t\t\"username\": [\n\t\t\t\"Expected string, received boolean\"\n\t\t],\n\t\t\"nickname\": [\n\t\t\t\"Expected string, received array\"\n\t\t],\n\t\t\"password\": [\n\t\t\t\"String must contain at least 4 character(s)\"\n\t\t]\n\t}\n}\n```","method":"POST","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1678983077985,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_b6068ef45f394f3f8f552ba033c9132b","parentId":"wrk_57031e72ce604ea0881249d59f5c0d05","modified":1679343958517,"created":1678983063257,"name":"Users","description":"The main route for those using the application for the first time is to create a user. Creating a user, passing valid data and using a nickname not used by others, you will be able to use the other functionalities of the application involving the tasks.","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1678983071925.5,"_type":"request_group"},{"_id":"wrk_57031e72ce604ea0881249d59f5c0d05","parentId":null,"modified":1679348891057,"created":1678983026712,"name":"Todo App","description":"The **Todo App API** is a web application developed with Node.js, Typescript, Express and TypeORM, which offers functionalities to manage tasks. The application has authenticated routes, which guarantee the security of user data.\n\nThrough this API, users can **create**, **update**, **list** and **delete** their tasks, as well as mark tasks as completed. The API uses TypeORM to manage the database, which can be configured with different databases supported by TypeORM.\n\nApplication routes are protected by **authentication**, using JWT tokens (JSON Web Token) to ensure that only authenticated users can access them. Authentication is done through a login system, where the user must provide their credentials (nickname and password) to obtain a valid JWT token.","scope":"collection","_type":"workspace"},{"_id":"req_c01d9780aed8458da80a1c5c642b1322","parentId":"fld_b6068ef45f394f3f8f552ba033c9132b","modified":1679347905863,"created":1678983151877,"url":"{{baseurl}}/login","name":"Login","description":"Route to perform login, where, with success, it returns a valid token that will have authentication for the functionalities of the user's tasks.\nTo log in, you must send in the body of the request two properties that were used in the creation of the user, these properties are the `nickname` and the `password`. Just like in the example:\n\n```json\n{\n\t\"nickname\": \"string\", // min - 3 | max - 40\n\t\"password\": \"string\"  // min - 3 | max - 40\n}\n```\n\nIf the user sends data that does not exist in the database, an error message will be returned stating that the credentials are invalid.\n\n### Expected return: \n\n#### ‚úÖ Success - Login with valid data\n\nBody:\n```json\n{\n\t\"nickname\": \"JohnDoe\",\n\t\"password\": \"123456Abc\"\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-200%20%7C%20OK-brightgreen)\n```json\n{\n\t\"token\": \"eyJhbGciOiJ...\"\n}\n```\n\n----\n\n#### ‚ùå Error - Invalid email or password\n\nBody:\n```json\n{\n\t\"nickname\": \"nobody\",\n\t\"password\": \"987654321\"\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20UNAUTHORIZED-red)\n```json\n{\n\t\"message\": \"Invalid credentials\"\n}\n```\n\n----\n\n#### ‚ùå Error - No keys required.\n\nBody:\n```json\n{\n\t\"id\": 3,\n\t\"user\": \"John\"\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-400%20%7C%20BAD_REQUEST-yellow)\n```json\n{\n\t\"message\": {\n\t\t\"nickname\": [\n\t\t\t\"Required\"\n\t\t],\n\t\t\"password\": [\n\t\t\t\"Required\"\n\t\t]\n\t}\n}\n```","method":"POST","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1678983077935,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_df9fc9f96f7e4d7a8cee5421c47fc796","parentId":"fld_834bc4c4055a4b52bb39f27547b7210f","modified":1679352372558,"created":1678983173293,"url":"{{baseurl}}/tasks","name":"üîê Create a new task","description":"POST routes are used to send information and data to a server. In this case, the POST route \"/tasks\" will be used to create tasks for the logged in user, provided he has authorization to access them. To access this route, it is necessary to send an authorization token in the request header.\n\n```sql\nPOST /tasks\nAuthorization: Bearer <token>\n```\n\nIn the body of the request, the following properties must be sent:\n\n```json\n{\n\t\"title\": \"string\",  // max - 40\n\t\"checked\": false,   // ( opcional ) | default - false\n}\n```\n\nWith success, an object will be returned with the information of the task created, containing the properties \"id\", \"title\" and the \"checked\" of the task, in addition to the properties \"createdAt\", referring to the task creation date, and \"updatedAt \" which refers to the task update date.\n\n### Expected return: \n\n#### ‚úÖ Success - Create with valid data\n\nBody:\n```json\n{\n\t\"title\": \"Read 1 hour a day\",\n\t\"checked\": false\n}\n```\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-201%20%7C%20CREATED-brightgreen)\n```json\n{\n\t\"id\": 3,\n\t\"title\": \"Read 1 hour a day\",\n\t\"checked\": false,\n\t\"createdAt\": \"2023-03-17T21:02:20.170Z\",\n\t\"updatedAt\": \"2023-03-17T21:02:20.170Z\"\n}\n```\n\n----\n\n#### ‚ùå Error - Request without sending an authorization\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20ANAUTHORIZED-red)\n```json\n{\n\t\"message\": \"Missing bearer token\"\n}\n```\n\n----\n\n#### ‚ùå Error - Request without sending token\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20ANAUTHORIZED-red)\n```json\n{\n\t\"message\": \"jwt malformed\"\n}\n```\n\n----\n\n#### ‚ùå Error - Request with invalid token\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20ANAUTHORIZED-red)\n```json\n{\n\t\"message\": \"invalid signature\"\n}\n```","method":"POST","body":{},"parameters":[],"headers":[],"authentication":{"type":"bearer","token":"token","disabled":false},"metaSortKey":-1678983173293,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_834bc4c4055a4b52bb39f27547b7210f","parentId":"wrk_57031e72ce604ea0881249d59f5c0d05","modified":1679345638548,"created":1678983075378,"name":"Tasks","description":"All routes referring to tasks are authenticated, that is, they only work if they send a Bearer Token from the logged in user.","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1678983070199.25,"_type":"request_group"},{"_id":"req_7e9ccf75cf83462bab02deb5d5367d75","parentId":"fld_834bc4c4055a4b52bb39f27547b7210f","modified":1679352396412,"created":1678989399398,"url":"{{baseurl}}/tasks","name":"üîê List all user tasks","description":"GET routes are used to fetch information from a server. In this case, the \"/tasks\" GET route will be used to list all the tasks that were created by the user, as long as he has authorization to access them. To access this route, it is necessary to send an authorization token in the request header.\n\n```sql\nGET /tasks\nAuthorization: Bearer <token>\n```\n\nAs it is a GET route, a JSON body should not be sent in the request. On success, it should return to the user an array containing all the tasks that were created by the user. If the user has not created any tasks or deleted all tasks, an empty array will be returned. Tasks will come in object format containing the following properties:\n\n```json\n{\n\t\"id\": 1,    // ( Number )\n\t\"title\": \"string\",    // ( String )\n\t\"checked\": false,    // ( Boolean )\n\t\"createdAt\": \"date\",    // ( Date )\n\t\"updatedAt\": \"date\",    // ( Date )\n}\n```\n\n### Expected return: \n\n#### ‚úÖ Success - Returning all tasks\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-200%20%7C%20OK-brightgreen)\n```json\n[\n\t{\n\t\t\"id\": 3,\n\t\t\"title\": \"Read 1 hour a day\",\n\t\t\"checked\": false,\n\t\t\"createdAt\": \"2023-03-17T21:02:20.170Z\",\n\t\t\"updatedAt\": \"2023-03-17T21:02:20.170Z\"\n\t},\n\t{\n\t\t\"id\": 4,\n\t\t\"title\": \"Create todo API\",\n\t\t\"checked\": true,\n\t\t\"createdAt\": \"2023-03-15T15:00:20.170Z\",\n\t\t\"updatedAt\": \"2023-03-16T06:25:20.170Z\"\n\t},\n\t...\n]\n```\n\n----\n\n#### ‚ùå Error - Request without sending an authorization\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20ANAUTHORIZED-red)\n```json\n{\n\t\"message\": \"Missing bearer token\"\n}\n```\n\n----\n\n#### ‚ùå Error - Request without sending token\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20ANAUTHORIZED-red)\n```json\n{\n\t\"message\": \"jwt malformed\"\n}\n```\n\n----\n\n#### ‚ùå Error - Request with invalid token\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-401%20%7C%20ANAUTHORIZED-red)\n```json\n{\n\t\"message\": \"invalid signature\"\n}\n```","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{"type":"bearer","token":"token","disabled":false},"metaSortKey":-1678983173243,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_4ef0c1836a3e4f1098627c827cc84e27","parentId":"fld_834bc4c4055a4b52bb39f27547b7210f","modified":1679352402029,"created":1678995042649,"url":"{{baseurl}}/tasks/:id","name":"üîê Change the checked of the task by Id","description":"PATCH routes are used to update information from a server. In this case, the PATCH \"/tasks/**:id**\" route will be used to update a task, specifically the \"checked\" property, of course, provided that the logged in user has authorization to update it. To access this route, you need to send an authorization token in the request header.\n\n```sql\nPATCH /tasks\nAuthorization: Bearer <token>\n```\n\nIn the request route, the id must be inserted after the \"/tasks/\" endpoint of the task you want to update. It is not necessary to send a body in the request, as the process of updating the task will be automatic just by sending the id in the route.\n\nWith success, an object will be returned referring to the task's information with the \"checked\" property updated.\n\n### Expected return: \n\n#### ‚úÖ Success - Updating a valid task\n\nEndpoint: `/tasks/3`\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-200%20%7C%20OK-brightgreen)\n```json\n{\n\t\"id\": 3,\n\t\"title\": \"Read 1 hour a day\",\n\t\"checked\": true, // With checked changed\n\t\"createdAt\": \"2023-03-17T21:02:20.170Z\",\n\t\"updatedAt\": \"2023-03-19T13:01:20.170Z\"\n}\n```\n\n----\n\n#### ‚ùå Error - Sending a task id from another user\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-403%20%7C%20FORBIDDEN-red)\n```json\n{\n\t\"message\": \"User does not have permission for this non-owned task\"\n}\n```\n\n----\n\n#### ‚ùå Error - Sending an id that doesn't exist\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-404%20%7C%20NOT_FOUND-yellow)\n```json\n{\n\t\"message\": \"Task not found\"\n}\n```","method":"PATCH","body":{},"parameters":[],"headers":[],"authentication":{"type":"bearer","token":"token"},"metaSortKey":-1678983162560,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_7a56cd970a424ba49bf99db7e5013970","parentId":"fld_834bc4c4055a4b52bb39f27547b7210f","modified":1679352404939,"created":1679068192976,"url":"{{baseurl}}/tasks/:id","name":"üîê Delete a task by id","description":"DELETE routes are used to delete or delete information or data from a server. In this case, the DELETE route \"/tasks/**:id**\" will be used to delete a task, as long as the logged in user has authorization to update it. To access this route, you need to send an authorization token in the request header.\n\n```sql\nDELETE /tasks\nAuthorization: Bearer <token>\n```\n\nIn the request route, the id must be inserted after the \"/tasks/\" endpoint of the task you want to delete. It is not necessary to send a body in the request, as the task deletion process will be automatic just by sending the id in the route.\n\nWith success, nothing will be returned, only status 204 - no content\n\n### Expected return: \n\n#### ‚úÖ Success - Deleting with a valid id\n\nEndpoint: `/tasks/3`\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-204%20%7C%20NO_CONTENT-brightgreen)\n```json\n// Empty. Means the task has been deleted\n```\n\n----\n\n#### ‚ùå Error - Sending a task id from another user\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-403%20%7C%20FORBIDDEN-red)\n```json\n{\n\t\"message\": \"User does not have permission for this non-owned task\"\n}\n```\n\n----\n\n#### ‚ùå Error - Sending an id that doesn't exist\n\nResponse:\n\n![StatusCode](https://img.shields.io/badge/Status%20code%3A%20-404%20%7C%20NOT_FOUND-yellow)\n```json\n{\n\t\"message\": \"Task not found\"\n}\n```","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{"type":"bearer","token":"token"},"metaSortKey":-1678983157218.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_4fbee428aac80f34e30f494244f3b01524da4607","parentId":"wrk_57031e72ce604ea0881249d59f5c0d05","modified":1678983026717,"created":1678983026717,"name":"Base Environment","data":{},"dataPropertyOrder":null,"color":null,"isPrivate":false,"metaSortKey":1678983026717,"_type":"environment"},{"_id":"jar_4fbee428aac80f34e30f494244f3b01524da4607","parentId":"wrk_57031e72ce604ea0881249d59f5c0d05","modified":1678987608755,"created":1678983026718,"name":"Default Jar","cookies":[],"_type":"cookie_jar"},{"_id":"spc_1fe37e11ed2e4e9fb1c68aaaeb86660c","parentId":"wrk_57031e72ce604ea0881249d59f5c0d05","modified":1678983026713,"created":1678983026713,"fileName":"Todo App","contents":"","contentType":"yaml","_type":"api_spec"},{"_id":"env_0e2190ba6e4b4846a1f79a89439f0158","parentId":"env_4fbee428aac80f34e30f494244f3b01524da4607","modified":1679350569070,"created":1678983084648,"name":"Development","data":{"baseurl":"localhost:3000"},"dataPropertyOrder":{"&":["baseurl"]},"color":"#696969","isPrivate":false,"metaSortKey":1678983084648,"_type":"environment"},{"_id":"env_523b29fd98a14c8fb231b9a9a881ac07","parentId":"env_4fbee428aac80f34e30f494244f3b01524da4607","modified":1679344111734,"created":1678987187593,"name":"Production","data":{"baseurl":"https://api-todo-luanflorencioo.onrender.com"},"dataPropertyOrder":{"&":["baseurl"]},"color":"#5810fe","isPrivate":false,"metaSortKey":1678987187593,"_type":"environment"}]}